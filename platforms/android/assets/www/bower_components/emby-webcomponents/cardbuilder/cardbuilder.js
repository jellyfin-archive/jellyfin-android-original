define(["datetime","imageLoader","connectionManager","itemHelper","mediaInfo","focusManager","indicators","globalize","browser","layoutManager","apphost","emby-button","css!./card","paper-icon-button-light","clearButtonStyle"],function(e,a,t,r,n,i,o,s,d,l,u){function m(e){return e.replace(/&/g,"&amp;").replace(U,function(e){var a=e.charCodeAt(0),t=e.charCodeAt(1);return"&#"+(1024*(a-55296)+(t-56320)+65536)+";"}).replace(F,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function c(e,a){var r=t.currentApiClient();1==arguments.length&&(a=arguments[0],e=a.items);var n=v(e,r,a);return n}function p(e,a){switch(e){case"portrait":return a>=2200?10:a>=2100?9:a>=1600?8:a>=1400?7:a>=1200?6:a>=800?5:a>=640?4:3;case"square":return a>=2100?9:a>=1800?8:a>=1400?7:a>=1200?6:a>=900?5:a>=700?4:a>=500?3:2;case"banner":return a>=2200?4:a>=1200?3:a>=800?2:1;case"backdrop":return a>=2500?6:a>=2100?5:a>=1200?4:a>=770?3:a>=420?2:1;case"smallBackdrop":return a>=1440?8:a>=1100?6:a>=800?5:a>=600?4:a>=540?3:a>=420?2:1;case"overflowPortrait":return a>=1e3?100/23:a>=640?100/36:2.5;case"overflowSquare":return a>=1e3?100/22:a>=640?100/30:100/42;case"overflowBackdrop":return a>=1e3?2.5:a>=640?100/60:100/84;default:return 4}}function h(e){var a=window.innerWidth,t=p(e,a),r=a/t;return Math.round(r)}function g(e,t){t.shape=t.shape||"auto";var r=a.getPrimaryImageAspectRatio(e),n=r&&Math.abs(r-1.777777778)<.3,i=r&&Math.abs(r-1)<.33||r&&Math.abs(r-1.3333334)<.01;("auto"==t.shape||"autohome"==t.shape||"autooverflow"==t.shape||"autoVertical"==t.shape)&&(t.preferThumb||n?t.shape="autooverflow"==t.shape?"overflowBackdrop":"backdrop":i?(t.coverImage=!0,t.shape="autooverflow"==t.shape?"overflowSquare":"square"):r&&r>1.9?(t.shape="banner",t.coverImage=!0):t.shape=r&&Math.abs(r-.6666667)<.2?"autooverflow"==t.shape?"overflowPortrait":"portrait":t.defaultShape||("autooverflow"==t.shape?"overflowSquare":"square")),t.uiAspect=I(t.shape),t.primaryImageAspectRatio=r,!t.width&&t.widths&&(t.width=t.widths[t.shape]),t.rows&&"number"!=typeof t.rows&&(t.rows=t.rows[t.shape]),"backdrop"==t.shape?t.width=t.width||500:"portrait"==t.shape?t.width=t.width||243:"square"==t.shape&&(t.width=t.width||243),t.width=t.width||h(t.shape)}function v(a,t,r){var n;if("autoVertical"==r.shape&&(n=!0),g(a,r),"Genres"==r.indexBy)return y(a,t,r);var i="card";r.shape&&(i+=" "+r.shape+"Card");for(var o,s,d,l="",u=0,m=r.sectionTitleTagName||"div",c=0,p=a.length;p>c;c++){var h=a[c];if(r.indexBy){var v="";if("PremiereDate"==r.indexBy){if(h.PremiereDate)try{v=T(e.parseISO8601Date(h.PremiereDate))}catch(I){}}else"Genres"==r.indexBy?v=h.Name:"ProductionYear"==r.indexBy?v=h.ProductionYear:"CommunityRating"==r.indexBy&&(v=h.CommunityRating?Math.floor(h.CommunityRating)+(h.CommunityRating%1>=.5?.5:0)+"+":null);v!=o&&(s&&(l+="</div>",s=!1,u=0),d&&(l+="</div>",n&&(l+="</div>"),d=!1),l+=n?'<div class="verticalSection">':'<div class="horizontalSection">',l+="<"+m+' class="sectionTitle">'+v+"</"+m+">",n&&(l+='<div class="itemsContainer vertical-wrap">'),o=v,d=!0)}r.rows&&0==u&&(s&&(l+="</div>",s=!1),l+='<div class="cardColumn">',s=!0);var f=i;l+=M(c,h,t,r,f),u++,r.rows&&u>=r.rows&&(l+="</div>",s=!1,u=0)}return s&&(l+="</div>"),d&&(l+="</div>",n&&(l+="</div>")),l}function y(e,a,t){var r="card";t.shape&&(r+=" "+t.shape+"Card");for(var n="",i=t.genres,o=0,d=i.length;d>o;o++){var l=i[o],u=l.Name.toLowerCase(),m=e.filter(function(e){return e.Genres.filter(function(e){return e.toLowerCase()==u}).length>0});if(m.length){n+='<div class="horizontalSection focuscontainer-down">',n+='<div class="sectionTitle">'+l.Name+"</div>";var c=!1;m.length>t.indexLimit&&(m.length=Math.min(m.length,t.indexLimit),c=!0);var p=0,h=!1;n+=m.map(function(e){var n="";t.rows&&0==p&&(h&&(n+="</div>",h=!1),n+='<div class="cardColumn">',h=!0);var i=r;return n+=M(o,e,a,t,i),p++,t.rows&&p>=t.rows&&(n+="</div>",h=!1,p=0),n}).join(""),c&&(n+='<div class="listItemsMoreButtonContainer">',n+='<button is="emby-button" class="listItemsMoreButton raised" data-parentid="'+t.parentId+'" data-indextype="Genres" data-indexvalue="'+l.Id+'">'+s.translate("sharedcomponents#More")+"</button>",n+="</div>"),n+="</div>",n+="</div>"}}return n}function T(e){var a=[];a[0]=s.translate("sharedcomponents#Sunday"),a[1]=s.translate("sharedcomponents#Monday"),a[2]=s.translate("sharedcomponents#Tuesday"),a[3]=s.translate("sharedcomponents#Wednesday"),a[4]=s.translate("sharedcomponents#Thursday"),a[5]=s.translate("sharedcomponents#Friday"),a[6]=s.translate("sharedcomponents#Saturday");var t=a[e.getDay()];return e=e.toLocaleDateString(),-1==e.toLowerCase().indexOf(t.toLowerCase())?t+" "+e:e}function I(e){if(e){if(e=e.toLowerCase(),-1!=e.indexOf("portrait"))return 2/3;if(-1!=e.indexOf("backdrop"))return 16/9;if(-1!=e.indexOf("square"))return 1}return null}function f(e,t,r){var n=r.width,i=null,o=a.getPrimaryImageAspectRatio([e]),s=!1,d=null,l=!1;if(r.autoThumb&&e.ImageTags&&e.ImageTags.Primary&&e.PrimaryImageAspectRatio&&e.PrimaryImageAspectRatio>=1.34)i=o?Math.round(n/o):null,d=ApiClient.getScaledImageUrl(e.Id,{type:"Primary",maxHeight:i,maxWidth:n,tag:e.ImageTags.Primary}),o&&u&&Math.abs(o-u)<=.2&&(l=!0);else if(r.autoThumb&&e.ImageTags&&e.ImageTags.Thumb)d=ApiClient.getScaledImageUrl(e.Id,{type:"Thumb",maxWidth:n,tag:e.ImageTags.Thumb});else if(r.preferThumb&&e.ImageTags&&e.ImageTags.Thumb)d=t.getScaledImageUrl(e.Id,{type:"Thumb",maxWidth:n,tag:e.ImageTags.Thumb});else if(r.preferBanner&&e.ImageTags&&e.ImageTags.Banner)d=t.getScaledImageUrl(e.Id,{type:"Banner",maxWidth:n,tag:e.ImageTags.Banner});else if(r.preferThumb&&e.SeriesThumbImageTag&&r.inheritThumb!==!1)d=t.getScaledImageUrl(e.SeriesId,{type:"Thumb",maxWidth:n,tag:e.SeriesThumbImageTag});else if(r.preferThumb&&e.ParentThumbItemId&&r.inheritThumb!==!1)d=t.getScaledImageUrl(e.ParentThumbItemId,{type:"Thumb",maxWidth:n,tag:e.ParentThumbImageTag});else if(r.preferThumb&&e.BackdropImageTags&&e.BackdropImageTags.length)d=t.getScaledImageUrl(e.Id,{type:"Backdrop",maxWidth:n,tag:e.BackdropImageTags[0]}),s=!0;else if(e.ImageTags&&e.ImageTags.Primary){if(i=n&&o?Math.round(n/o):null,d=t.getImageUrl(e.Id,{type:"Primary",maxHeight:i,maxWidth:n,tag:e.ImageTags.Primary}),r.preferThumb&&r.showTitle!==!1&&(s=!0),o){var u=I(r.shape);u&&(l=Math.abs(o-u)<=.2)}}else if(e.PrimaryImageTag){if(i=n&&o?Math.round(n/o):null,d=t.getImageUrl(e.Id||e.ItemId,{type:"Primary",maxHeight:i,maxWidth:n,tag:e.PrimaryImageTag}),r.preferThumb&&r.showTitle!==!1&&(s=!0),o){var u=I(r.shape);u&&(l=Math.abs(o-u)<=.2)}}else if(e.ParentPrimaryImageTag)d=t.getImageUrl(e.ParentPrimaryImageItemId,{type:"Primary",maxWidth:n,tag:e.ParentPrimaryImageTag});else if(e.AlbumId&&e.AlbumPrimaryImageTag){if(n=o?Math.round(i*o):null,d=t.getScaledImageUrl(e.AlbumId,{type:"Primary",maxHeight:i,maxWidth:n,tag:e.AlbumPrimaryImageTag}),o){var u=I(r.shape);u&&(l=Math.abs(o-u)<=.2)}}else"Season"==e.Type&&e.ImageTags&&e.ImageTags.Thumb?d=t.getScaledImageUrl(e.Id,{type:"Thumb",maxWidth:n,tag:e.ImageTags.Thumb}):e.BackdropImageTags&&e.BackdropImageTags.length?d=t.getScaledImageUrl(e.Id,{type:"Backdrop",maxWidth:n,tag:e.BackdropImageTags[0]}):e.ImageTags&&e.ImageTags.Thumb?d=t.getScaledImageUrl(e.Id,{type:"Thumb",maxWidth:n,tag:e.ImageTags.Thumb}):e.SeriesThumbImageTag?d=t.getScaledImageUrl(e.SeriesId,{type:"Thumb",maxWidth:n,tag:e.SeriesThumbImageTag}):e.ParentThumbItemId&&(d=t.getThumbImageUrl(e.ParentThumbItemId,{type:"Thumb",maxWidth:n,tag:e.ParentThumbImageTag}));return{imgUrl:d,forceName:s,coverImage:l}}function C(e,a){return Math.floor(Math.random()*(a-e+1))+e}function b(e){if(e){for(var a=Math.floor(e.length/2),t=String(e.substr(a,1).charCodeAt()),r=0,n=0;n<t.length;n++)r+=parseInt(t.charAt(n));var i=String(r).substr(-1);return i%G+1}return C(1,G)}function S(e){return"defaultCardColor"+b(e)}function P(e,a,t){var r,n,i="",o=0;for(r=0,n=e.length;n>r;r++){var s=e[r];s&&(i+="<div class='"+a+"'>",i+=s,i+="</div>",o++)}if(t)for(;n>o;)i+="<div class='"+a+"'>&nbsp;</div>",o++;return i}function w(a,t,n,i,o,d,c){var p="",h=c?!t.overlayText:t.overlayText;if(c&&t.cardLayout&&!l.tv){var g="dots-horiz"==u.moreIcon?"&#xE5D3;":"&#xE5D4;";p+='<button is="paper-icon-button-light" class="itemAction btnCardOptions autoSize" data-action="menu"><i class="md-icon">'+g+"</i></button>"}var v=t.centerText&&!t.cardLayout?"cardText cardTextCentered":"cardText",y=[];if(h){var T="MusicAlbum"==a.Type||"Audio"==a.Type||"MusicVideo"==a.Type;t.showParentTitle&&!T&&y.push(c&&"Episode"==a.Type&&a.SeriesName&&a.SeriesId?x({Id:a.SeriesId,Name:a.SeriesName,Type:"Series",IsFolder:!0}):a.EpisodeTitle?a.Name:a.SeriesName||a.Album||a.AlbumArtist||a.GameSystem||"")}if(n){var I="auto"!=t.showTitle||a.IsFolder||"Photo"!=a.MediaType?r.getDisplayName(a):"";y.push(m(I))}if(h){if(t.showParentTitle&&T&&(c&&a.AlbumArtists&&a.AlbumArtists.length?(a.AlbumArtists[0].Type="MusicArtist",a.AlbumArtists[0].IsFolder=!0,y.push(x(a.AlbumArtists[0]))):y.push(a.EpisodeTitle?a.Name:a.SeriesName||a.Album||a.AlbumArtist||a.GameSystem||"")),t.showItemCounts){var f=A(t,a);y.push(f)}if(t.textLines)for(var C=t.textLines(a),b=0,S=C.length;S>b;b++)y.push(C[b]);if(t.showSongCount){var w="";a.SongCount&&(w=1==a.SongCount?s.translate("sharedcomponents#ValueOneSong"):s.translate("sharedcomponents#ValueSongCount",a.SongCount)),y.push(w)}if(t.showPremiereDate)if(a.PremiereDate)try{y.push(getPremiereDateText(a))}catch(M){y.push("")}else y.push("");if(t.showYear&&y.push(a.ProductionYear||""),t.showChannelName&&y.push(a.ChannelName||""),t.showAirTime){var B;if(a.StartDate)try{var D=e.parseISO8601Date(a.StartDate);B=D.toLocaleDateString(),B+=", "+e.getDisplayTime(D),a.EndDate&&(D=e.parseISO8601Date(a.EndDate),B+=" - "+e.getDisplayTime(D))}catch(L){}y.push(B||"")}if("TvChannel"==a.Type&&y.push(a.CurrentProgram?r.getDisplayName(a.CurrentProgram):""),t.showSeriesYear&&y.push("Continuing"==a.Status?s.translate("sharedcomponents#SeriesYearToPresent",a.ProductionYear||""):a.ProductionYear||""),t.showProgramAirInfo){var D=e.parseISO8601Date(a.StartDate,!0),V=a.StartDate?D.toLocaleString():"";y.push(V||"&nbsp;"),y.push(a.ChannelName||"&nbsp;")}}return p+=P(y,v,!t.overlayText),d&&(p+=d),p&&(p='<div class="'+o+'">'+p,p+="</div>"),p}function x(e,a){a||(a=r.getDisplayName(e));var t='<button data-id="'+e.Id+'" data-type="'+e.Type+'" data-mediatype="'+e.MediaType+'" data-channelid="'+e.ChannelId+'" data-isfolder="'+e.IsFolder+'" type="button" class="itemAction textActionButton" data-action="link">';return t+=a,t+="</button>"}function A(e,a){var t,r=[];if("Playlist"==a.Type){if(t="",a.CumulativeRunTimeTicks){var n=a.CumulativeRunTimeTicks/6e8;n=n||1,t+=s.translate("ValueMinutes",Math.round(n))}else t+=s.translate("ValueMinutes",0);r.push(t)}else"Genre"==a.Type||"Studio"==a.Type?(a.MovieCount&&(t=1==a.MovieCount?s.translate("ValueOneMovie"):s.translate("ValueMovieCount",a.MovieCount),r.push(t)),a.SeriesCount&&(t=1==a.SeriesCount?s.translate("ValueOneSeries"):s.translate("ValueSeriesCount",a.SeriesCount),r.push(t)),a.EpisodeCount&&(t=1==a.EpisodeCount?s.translate("ValueOneEpisode"):s.translate("ValueEpisodeCount",a.EpisodeCount),r.push(t)),a.GameCount&&(t=1==a.GameCount?s.translate("ValueOneGame"):s.translate("ValueGameCount",a.GameCount),r.push(t))):"GameGenre"==a.Type?a.GameCount&&(t=1==a.GameCount?s.translate("sharedcomponents#ValueOneGame"):s.translate("sharedcomponents#ValueGameCount",a.GameCount),r.push(t)):("MusicGenre"==a.Type||"MusicArtist"==e.context)&&(a.AlbumCount&&(t=1==a.AlbumCount?s.translate("sharedcomponents#ValueOneAlbum"):s.translate("sharedcomponents#ValueAlbumCount",a.AlbumCount),r.push(t)),a.SongCount&&(t=1==a.SongCount?s.translate("sharedcomponents#ValueOneSong"):s.translate("sharedcomponents#ValueSongCount",a.SongCount),r.push(t)),a.MusicVideoCount&&(t=1==a.MusicVideoCount?s.translate("sharedcomponents#ValueOneMusicVideo"):s.translate("sharedcomponents#ValueMusicVideoCount",a.MusicVideoCount),r.push(t)));return r.join(" ï¿½ ")}function M(e,a,t,n,i){var s=n.action||"link",d=n.scalable!==!1;d&&(i+=" scalableCard");var m=f(a,t,n),c=m.imgUrl,p="cardImageContainer";(n.coverImage||m.coverImage)&&(p+=" coveredImage",("Photo"==a.MediaType||"PhotoAlbum"==a.Type||"Folder"==a.Type)&&(p+=" noScale")),c||(p+=" "+S(a.Name));var h=d,g=n.cardLayout?"cardBox visualCardBox":"cardBox";h||(p+=" "+g);var v="";if(!l.tv){var y=n.overlayPlayButton;if(null!=y||n.overlayMoreButton||(y="Video"==a.MediaType),!y||a.IsPlaceHolder||"Virtual"==a.LocationType&&a.MediaType&&"Program"!=a.Type||"Person"==a.Type||"Full"!=a.PlayAccess||(v+='<button is="paper-icon-button-light" class="cardOverlayButton itemAction autoSize" data-action="playmenu" onclick="return false;"><i class="md-icon">play_arrow</i></button>'),n.overlayMoreButton){var T="dots-horiz"==u.moreIcon?"&#xE5D3;":"&#xE5D4;";v+='<button is="paper-icon-button-light" class="cardOverlayButton itemAction autoSize" data-action="menu" onclick="return false;"><i class="md-icon">'+T+"</i></button>"}}n.showChildCountIndicator&&a.ChildCount&&(i+=" groupedCard");var I,C="",b="",P="",x="";if(h){var A;l.tv?(A='<div class="cardContent">',P="</div>"):(A='<button type="button" class="clearButton cardContent itemAction" data-action="'+s+'">',P="</button>"),I=c?'<div class="'+p+' lazy" data-src="'+c+'">':'<div class="'+p+'">',I='<div class="'+g+'"><div class="cardScalable"><div class="cardPadder"></div>'+A+I,b="</div>",x="</div>",C="</div>"}else v&&!h?(I=c?'<button type="button" data-action="'+s+'" class="itemAction '+p+' lazy" data-src="'+c+'">':'<button type="button" data-action="'+s+'" class="itemAction '+p+'">',C="</button>",i+=" forceRelative"):(I=c?'<div class="'+p+' lazy" data-src="'+c+'">':'<div class="'+p+'">',C="</div>");var M="";M+=o.getTimerIndicator(a),M+=n.showGroupCount?o.getChildCountIndicatorHtml(a,{minCount:1}):o.getPlayedIndicatorHtml(a),M&&(I+='<div class="indicators">'+M+"</div>");var B=m.forceName,D="auto"==n.showTitle?!0:n.showTitle||"PhotoAlbum"==a.Type||"Folder"==a.Type;if(B&&!n.cardLayout&&(D=!1),!c){var L=a.EpisodeTitle?a.Name:r.getDisplayName(a);I+='<div class="cardText cardCenteredText">'+L+"</div>"}var V,k=o.getProgressBarHtml(a),N="",U=!1;n.overlayText?(V=k?"innerCardFooter fullInnerCardFooter":"innerCardFooter",N+=w(a,n,D,c,V,k,!1),U=!0):k&&(N+='<div class="innerCardFooter fullInnerCardFooter">',N+=k,N+="</div>",k="");var F=a.MediaSourceCount||1;F>1&&(N+='<div class="mediaSourceIndicator">'+F+"</div>");var G="";n.overlayText||U||(V=n.cardLayout?"cardFooter":"cardFooter transparent",G=w(a,n,D,c,V,k,!0));var E=!l.tv&&d||v?"div":"button",O=(a.SortName||a.Name||"")[0];O&&(O=O.toUpperCase());var q="";a.TimerId&&(q+=' data-timerid="'+a.TimerId+'"'),a.SeriesTimerId&&(q+=' data-seriestimerid="'+a.SeriesTimerId+'"');var H;"button"==E?(i+=" itemAction",H=' data-action="'+s+'"'):H="",G&&!n.cardLayout&&(i+=" bottomPaddedCard");var W=a.UserData&&a.UserData.PlaybackPositionTicks?' data-positionticks="'+a.UserData.PlaybackPositionTicks+'"':"",z=n.collectionId?' data-collectionid="'+n.collectionId+'"':"",R=n.playlistId?' data-playlistid="'+n.playlistId+'"':"",Y=a.MediaType?' data-mediatype="'+a.MediaType+'"':"",j=a.CollectionType?' data-collectiontype="'+a.CollectionType+'"':"",_=a.ChannelId?' data-channelid="'+a.ChannelId+'"':"";return"<"+E+' data-index="'+e+'"'+q+H+' data-isfolder="'+(a.IsFolder||!1)+'" data-serverid="'+a.ServerId+'" data-id="'+(a.Id||a.ItemId)+'" data-type="'+a.Type+'"'+Y+j+_+W+z+R+' data-prefix="'+O+'" class="'+i+'"> '+I+N+C+P+v+x+G+b+"</"+E+">"}function B(e,r){if(document.body.contains(r.itemsContainer)){if(r.parentContainer){if(!e.length)return void r.parentContainer.classList.add("hide");r.parentContainer.classList.remove("hide")}var n=t.currentApiClient(),o=v(e,n,r);o?(r.itemsContainer.cardBuilderHtml!=o&&(r.itemsContainer.innerHTML=o,r.itemsContainer.cardBuilderHtml=e.length<50?o:null),a.lazyChildren(r.itemsContainer)):(r.itemsContainer.innerHTML=o,r.itemsContainer.cardBuilderHtml=null),r.autoFocus&&i.autoFocus(r.itemsContainer,!0),"Genres"==r.indexBy&&r.itemsContainer.addEventListener("click",L)}}function D(e,a){for(;!e.classList||!e.classList.contains(a);)if(e=e.parentNode,!e)return null;return e}function L(e){var a=D(e.target,"listItemsMoreButton");if(a){var t=a.getAttribute("data-indexvalue"),r=a.getAttribute("data-parentid");Emby.Page.showGenre({ParentId:r,Id:t})}}function V(e,a){if(a)return a;if(a=e.querySelector(".indicators"),!a){var t=e.querySelector(".cardImageContainer");a=document.createElement("div"),a.classList.add("indicators"),t.appendChild(a)}return a}function k(e,a){var t,r=e.getAttribute("data-type"),n="Series"==r||"BoxSet"==r||"Season"==r;if(a.Played){var i=e.querySelector(".playedIndicator");i||(i=document.createElement("div"),i.classList.add("playedIndicator"),t=V(e,t),t.appendChild(i)),i.innerHTML='<i class="md-icon">check</i>'}else{var i=e.querySelector(".playedIndicator");i&&i.parentNode.removeChild(i)}if(a.UnplayedItemCount){var s=e.querySelector(".countIndicator");s||(s=document.createElement("div"),s.classList.add("countIndicator"),t=V(e,t),t.appendChild(s)),s.innerHTML=a.UnplayedItemCount}else if(n){var s=e.querySelector(".countIndicator");s&&s.parentNode.removeChild(s)}var d=o.getProgressBarHtml({Type:r,UserData:a,MediaType:"Video"});if(d){var l=e.querySelector(".itemProgressBar");if(!l){l=document.createElement("div"),l.classList.add("itemProgressBar");var u=e.querySelector(".innerCardFooter");if(!u){u=document.createElement("div"),u.classList.add("innerCardFooter");var m=e.querySelector(".cardImageContainer");m.appendChild(u)}u.appendChild(l)}l.innerHTML=d}else{var l=e.querySelector(".itemProgressBar");l&&l.parentNode.removeChild(l)}}function N(e){for(var a=document.querySelectorAll('.card[data-id="'+e.ItemId+'"]'),t=0,r=a.length;r>t;t++)k(a[t],e)}var U=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,F=/([^\#-~| |!])/g,G=5;return{getCardsHtml:c,buildCards:B,onUserDataChanged:N,getDefaultColorClass:S}});